!function(){var d=function(e){this.type=e||d.OPEN_URI,this.size=null,this.file=null};if(d.OPEN_FILE=1,d.OPEN_URI=2,d.OPEN_LOCAL=3,"function"==typeof require)var o=require("fs");d.prototype.open=function(e,a){this.file=e;var i=this;switch(this.type){case d.OPEN_LOCAL:o.stat(this.file,function(t,e){return t?a(t):void(i.size=e.size,o.open(i.file,"r",function(n,e){return n?a(n):void(i.fd=e,a())}))});break;case d.OPEN_FILE:this.size=this.file.size,a();break;default:this.ajax({uri:this.file,type:"HEAD"},function(o,e,t){return o?a(o):void(i.size=parseInt(t.getResponseHeader("Content-Length")),a())});}},d.prototype.close=function(){this.type===d.OPEN_LOCAL&&o.close(this.fd)},d.prototype.read=function(e,t,o){"function"==typeof t&&(o=t,t=0),this.type===d.OPEN_LOCAL?this.readLocal(e,t,o):this.type===d.OPEN_FILE?this.readFile(e,t,o):this.readUri(e,t,o)},d.prototype.readBlob=function(o,e,r,a){"function"==typeof e?(a=e,e=0):"function"==typeof r&&(a=r,r="application/octet-stream"),this.read(o,e,function(n,e){n?a(n):a(null,new Blob([e],{type:r}))})},d.prototype.readLocal=function(t,e,d){var n=new Buffer(t);o.read(this.fd,n,0,t,e,function(i,e,t){if(i)return d(i);for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),a=0;a<t.length;a++)r[a]=t[a];d(null,n)})},d.prototype.ajax=function(o,a){var t={type:"GET",uri:null,responseType:"text"};for(var n in"string"==typeof o&&(o={uri:o}),o)t[n]=o[n];var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)return 200!==i.status&&206!==i.status?a("Received non-200/206 response ("+i.status+")"):void a(null,i.response,i)},i.responseType=t.responseType,i.open(t.type,t.uri,!0),t.range&&(t.range=[].concat(t.range),2===t.range.length?i.setRequestHeader("Range","bytes="+t.range[0]+"-"+t.range[1]):i.setRequestHeader("Range","bytes="+t.range[0])),i.send()},d.prototype.readUri=function(o,e,r){this.ajax({uri:this.file,type:"GET",responseType:"arraybuffer",range:[e,e+o-1]},function(n,e){return n?r(n):r(null,e)})},d.prototype.readFile=function(o,e,t){var n=this.file.slice(e,e+o),a=new FileReader;a.onload=function(n){t(null,n.target.result)},a.onerror=function(){t("File read failed")},a.readAsArrayBuffer(n)},DataView.prototype.getString=function(o,d,l){d=d||0,0>(o=o||this.byteLength-d)&&(o+=this.byteLength);var n="";if("undefined"!=typeof Buffer){for(var u=[],r=d;r<d+o;r++)u.push(this.getUint8(r));return new Buffer(u).toString()}for(r=d;r<d+o;r++)n+=String.fromCharCode(this.getUint8(r));return l?n:decodeURIComponent(encodeURIComponent(n))},DataView.prototype.getStringUtf16=function(d,u,s){u=u||0,d=d||this.byteLength-u;var n=!1,_="",c=!1;("undefined"!=typeof Buffer&&(_=[],c=!0),0>d&&(d+=this.byteLength),s)&&(65534===this.getUint16(u)&&(n=!0),u+=2,d-=2);for(var p,g=u;g<u+d;g+=2)p=this.getUint16(g,n),0<=p&&55295>=p||57344<=p&&65535>=p?c?_.push(p):_+=String.fromCharCode(p):65536<=p&&1114111>=p&&(p-=65536,c?(_.push(55296+((1047552&p)>>10)),_.push(56320+(1023&p))):_+=String.fromCharCode(55296+((1047552&p)>>10))+String.fromCharCode(56320+(1023&p)));return c?new Buffer(_).toString():decodeURIComponent(encodeURIComponent(_))},DataView.prototype.getSynch=function(o){for(var e=0,r=2130706432;r;)e>>=1,e|=o&r,r>>=8;return e},DataView.prototype.getUint8Synch=function(t){return this.getSynch(this.getUint8(t))},DataView.prototype.getUint32Synch=function(t){return this.getSynch(this.getUint32(t))},DataView.prototype.getUint24=function(n,e){return e?this.getUint8(n)+(this.getUint8(n+1)<<8)+(this.getUint8(n+2)<<16):this.getUint8(n+2)+(this.getUint8(n+1)<<8)+(this.getUint8(n)<<16)};var e=function(n,_){var i={type:e.OPEN_URI};for(var r in"string"==typeof n?n={file:n,type:e.OPEN_URI}:"undefined"!=typeof window&&window.File&&n instanceof window.File&&(n={file:n,type:e.OPEN_FILE}),n)i[r]=n[r];if(!i.file)return _("No file was set");if(i.type===e.OPEN_FILE){if("undefined"==typeof window||!window.File||!window.FileReader||"undefined"==typeof ArrayBuffer)return _("Browser does not have support for the File API and/or ArrayBuffers");}else if(i.type===e.OPEN_LOCAL&&"function"!=typeof require)return _("Local paths may not be read within a browser");var c=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"],m={types:{TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TAL:"album",TBP:"bpm",TCM:"composer",TCO:"genre",TCR:"copyright",TDY:"playlist-delay",TEN:"encoder",TFT:"file-type",TKE:"initial-key",TLA:"language",TLE:"length",TMT:"media-type",TOA:"original-artist",TOF:"original-filename",TOL:"original-writer",TOT:"original-album",TP1:"artist",TP2:"band",TP3:"conductor",TP4:"remixer",TPA:"set-part",TPB:"publisher",TRC:"isrc",TRK:"track",TSS:"encoder-settings",TT1:"content-group",TT2:"title",TT3:"subtitle",TXT:"writer",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",APIC:"image",PIC:"image"},imageTypes:["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","writer","location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"],parse:function(o,e,d){d=d||0,e=e||4;var l={tag:null,value:null},i=new DataView(o);if(3>e)return m.parseLegacy(o);var r=i.getString(4),a=i.getString(1);if(i.getUint32Synch(4),0!==i.getUint8(9))return!1;if(!r in m.types)return!1;if(l.tag=m.types[r],"T"===a){if(0===(u=i.getUint8(10))||3===u)l.value=i.getString(-11,11);else if(1===u)l.value=i.getStringUtf16(-11,11,!0);else{if(2!==u)return!1;l.value=i.getStringUtf16(-11,11)}"TCON"===r&&parseInt(l.value)&&(l.value=c[parseInt(l.value)])}else if("W"===a)l.value=i.getString(-10,10);else if("COMM"===r){for(var u=i.getUint8(10),_=0,y=h=14;;y++)if(1===u||2===u){if(0===i.getUint16(y)){h=y+2;break}y++}else if(0===i.getUint8(y)){h=y+1;break}if(0===u||3===u)l.value=i.getString(-1*h,h);else if(1===u)l.value=i.getStringUtf16(-1*h,h,!0);else{if(2!==u)return!1;l.value=i.getStringUtf16(-1*h,h)}}else if("APIC"===r){u=i.getUint8(10);var h,v={type:null,mime:null,description:null,data:null};for(_=0,y=h=11;;y++)if(0===i.getUint8(y)){_=y-h;break}for(v.mime=i.getString(_,h),v.type=m.imageTypes[i.getUint8(h+_+1)]||"other",h+=_+2,_=0,y=h;;y++)if(0===i.getUint8(y)){_=y-h;break}v.description=0==_?null:i.getString(_,h),v.data=o.slice(h+1),l.value=v}return!!l.tag&&l},parseLegacy:function(o){var e={tag:null,value:null},t=new DataView(o),n=t.getString(3),i=t.getString(1);if(t.getUint24(3),!n in m.types)return!1;if(e.tag=m.types[n],"T"===i)t.getUint8(7),e.value=t.getString(-7,7),"TCO"===n&&parseInt(e.value)&&(e.value=c[parseInt(e.value)]);else if("W"===i)e.value=t.getString(-7,7);else if("COM"===n)t.getUint8(6),e.value=t.getString(-10,10),-1!==e.value.indexOf("\0")&&(e.value=e.value.substr(e.value.indexOf("\0")+1));else if("PIC"===n){t.getUint8(6);for(var r={type:null,mime:"image/"+t.getString(3,7).toLowerCase(),description:null,data:null,type:m.imageTypes[t.getUint8(11)]||"other"},a=0,d=11;;d++)if(0===t.getUint8(d)){a=d-11;break}r.description=0==a?null:t.getString(a,11),r.data=o.slice(12),e.value=r}return!!e.tag&&e}},o={parse:function(d,o){var l={title:null,album:null,artist:null,year:null,v1:{title:null,artist:null,album:null,year:null,comment:null,track:null,version:1},v2:{version:[null,null]}},n={v1:!1,v2:!1},i=function(t){n.v1&&n.v2&&(l.title=l.v2.title||l.v1.title,l.album=l.v2.album||l.v1.album,l.artist=l.v2.artist||l.v1.artist,l.year=l.v1.year,o(t,l))};d.read(128,d.size-128,function(o,e){if(o)return i("Could not read file");var t=new DataView(e);return 128!==e.byteLength||"TAG"!==t.getString(3,null,!0)?(n.v1=!0,i()):void(l.v1.title=t.getString(30,3).replace(/(^\s+|\s+$)/,"")||null,l.v1.artist=t.getString(30,33).replace(/(^\s+|\s+$)/,"")||null,l.v1.album=t.getString(30,63).replace(/(^\s+|\s+$)/,"")||null,l.v1.year=t.getString(4,93).replace(/(^\s+|\s+$)/,"")||null,0===t.getUint8(125)?(l.v1.comment=t.getString(28,97).replace(/(^\s+|\s+$)/,""),l.v1.version=1.1,l.v1.track=t.getUint8(126)):l.v1.comment=t.getString(30,97).replace(/(^\s+|\s+$)/,""),l.v1.genre=c[t.getUint8(127)]||null,n.v1=!0,i())}),d.read(14,0,function(e,t){if(e)return i("Could not read file");var r,a=new DataView(t),u=10,_=0;return 14!==t.byteLength||"ID3"!==a.getString(3,null,!0)||4<a.getUint8(3)?(n.v2=!0,i()):(l.v2.version=[a.getUint8(3),a.getUint8(4)],0==(128&(r=a.getUint8(5)))?(0!=(64&r)&&(u+=a.getUint32Synch(11)),_+=a.getUint32Synch(6),void d.read(_,u,function(r,e){if(r)return n.v2=!0,i();for(var t=new DataView(e),a=0;a<e.byteLength;){for(var d,_,p,y=!0,h=0;3>h;h++)(65>(p=t.getUint8(a+h))||90<p)&&(48>p||57<p)&&(y=!1);if(!y)break;_=3>l.v2.version[0]?e.slice(a,a+6+t.getUint24(a+3)):e.slice(a,a+10+t.getUint32Synch(a+4)),(d=m.parse(_,l.v2.version[0]))&&(l.v2[d.tag]=d.value),a+=_.byteLength}n.v2=!0,i()})):(n.v2=!0,i()))})}},a=new d(i.type);a.open(i.file,function(t){return t?_("Could not open specified file"):void o.parse(a,function(n,e){_(n,e),a.close()})})};e.OPEN_FILE=d.OPEN_FILE,e.OPEN_URI=d.OPEN_URI,e.OPEN_LOCAL=d.OPEN_LOCAL,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("id3",[],function(){return e}):window.id3=e}(),!function(a){function i(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return a[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e={};i.m=a,i.c=e,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,a){if(1&a&&(n=i(n)),8&a)return n;if(4&a&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&a&&"string"!=typeof n)for(var o in n)i.d(t,o,function(e){return n[e]}.bind(null,o));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="",i(i.s=3)}([function(g,e,t){(function(t){var n;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var t=this||A;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(i){var d=this||A;if(i=parseFloat(i),d.ctx||_(),void 0!==i&&0<=i&&1>=i){if(d._volume=i,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(i,A.ctx.currentTime);for(var t=0;t<d._howls.length;t++)if(!d._howls[t]._webAudio)for(var l,u=d._howls[t]._getSoundIds(),o=0;o<u.length;o++)l=d._howls[t]._soundById(u[o]),l&&l._node&&(l._node.volume=l._volume*i);return d}return d._volume},mute:function(i){var e=this||A;e.ctx||_(),e._muted=i,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(i?0:e._volume,A.ctx.currentTime);for(var t=0;t<e._howls.length;t++)if(!e._howls[t]._webAudio)for(var d,l=e._howls[t]._getSoundIds(),o=0;o<l.length;o++)d=e._howls[t]._soundById(l[o]),d&&d._node&&(d._node.muted=!!i||d._muted);return e},unload:function(){for(var n=this||A,e=n._howls.length-1;0<=e;e--)n._howls[e].unload();return n.usingWebAudio&&n.ctx&&void 0!==n.ctx.close&&(n.ctx.close(),n.ctx=null,_()),n},codecs:function(t){return(this||A)._codecs[t.replace(/^x-/,"")]},_setup:function(){var n=this||A;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===new Audio().oncanplaythrough&&(n._canPlayEvent="canplay")}catch(e){n.noAudio=!0}else n.noAudio=!0;try{new Audio().muted&&(n.noAudio=!0)}catch(t){}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var a=this||A,e=null;try{e="undefined"==typeof Audio?null:new Audio}catch(e){return a}if(!e||"function"!=typeof e.canPlayType)return a;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=a._navigator&&a._navigator.userAgent.match(/OPR\/([0-6].)/g),o=n&&33>parseInt(n[0].split("/")[1],10);return a._codecs={mp3:!o&&(i||e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType("audio/ogg; codecs=\"opus\"").replace(/^no$/,""),ogg:!!e.canPlayType("audio/ogg; codecs=\"vorbis\"").replace(/^no$/,""),oga:!!e.canPlayType("audio/ogg; codecs=\"vorbis\"").replace(/^no$/,""),wav:!!e.canPlayType("audio/wav; codecs=\"1\"").replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType("audio/webm; codecs=\"vorbis\"").replace(/^no$/,""),webm:!!e.canPlayType("audio/webm; codecs=\"vorbis\"").replace(/^no$/,""),dolby:!!e.canPlayType("audio/mp4; codecs=\"ec-3\"").replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var d=this||A,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(d._navigator&&d._navigator.userAgent);if(!d._audioUnlocked&&d.ctx&&e){d._audioUnlocked=!1,d.autoUnlock=!1,d._mobileUnloaded||44100===d.ctx.sampleRate||(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var o=function(){for(var e,t=0;t<d.html5PoolSize;t++)e=new Audio,e._unlocked=!0,d._releaseHtml5Audio(e);for(t=0;t<d._howls.length;t++)if(!d._howls[t]._webAudio)for(var n,l=d._howls[t]._getSoundIds(),i=0;i<l.length;i++)n=d._howls[t]._soundById(l[i]),n&&n._node&&!n._node._unlocked&&(n._node._unlocked=!0,n._node.load());d._autoResume();var _=d.ctx.createBufferSource();_.buffer=d._scratchBuffer,_.connect(d.ctx.destination),void 0===_.start?_.noteOn(0):_.start(0),"function"==typeof d.ctx.resume&&d.ctx.resume(),_.onended=function(){_.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0);for(var e=0;e<d._howls.length;e++)d._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),d}},_obtainHtml5Audio:function(){var n=this||A;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var e=new Audio().play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var e=this||A;return n._unlocked&&e._html5AudioPool.push(n),e},_autoSuspend:function(){var o=this;if(o.autoSuspend&&o.ctx&&void 0!==o.ctx.suspend&&A.usingWebAudio){for(var e=0;e<o._howls.length;e++)if(o._howls[e]._webAudio)for(var r=0;r<o._howls[e]._sounds.length;r++)if(!o._howls[e]._sounds[r]._paused)return o;return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){o.autoSuspend&&(o._suspendTimer=null,o.state="suspending",o.ctx.suspend().then(function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())}))},3e4),o}},_autoResume:function(){var n=this;if(n.ctx&&void 0!==n.ctx.resume&&A.usingWebAudio)return"running"===n.state&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):"suspended"===n.state?(n.ctx.resume().then(function(){n.state="running";for(var e=0;e<n._howls.length;e++)n._howls[e]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):"suspending"===n.state&&(n._resumeAfterSuspend=!0),n}};var A=new o,r=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(n){var e=this;return A.ctx||_(),e._autoplay=n.autoplay||!1,e._format="string"==typeof n.format?[n.format]:n.format,e._html5=n.html5||!1,e._muted=n.mute||!1,e._loop=n.loop||!1,e._pool=n.pool||5,e._preload="boolean"!=typeof n.preload||n.preload,e._rate=n.rate||1,e._sprite=n.sprite||{},e._src="string"==typeof n.src?[n.src]:n.src,e._volume=void 0===n.volume?1:n.volume,e._xhrWithCredentials=n.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=n.onend?[{fn:n.onend}]:[],e._onfade=n.onfade?[{fn:n.onfade}]:[],e._onload=n.onload?[{fn:n.onload}]:[],e._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],e._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],e._onpause=n.onpause?[{fn:n.onpause}]:[],e._onplay=n.onplay?[{fn:n.onplay}]:[],e._onstop=n.onstop?[{fn:n.onstop}]:[],e._onmute=n.onmute?[{fn:n.onmute}]:[],e._onvolume=n.onvolume?[{fn:n.onvolume}]:[],e._onrate=n.onrate?[{fn:n.onrate}]:[],e._onseek=n.onseek?[{fn:n.onseek}]:[],e._onunlock=n.onunlock?[{fn:n.onunlock}]:[],e._onresume=[],e._webAudio=A.usingWebAudio&&!e._html5,void 0!==A.ctx&&A.ctx&&A.autoUnlock&&A._unlockAudio(),A._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var r=null;if(A.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var d=0;d<this._src.length;d++){var l,u;if(this._format&&this._format[d])l=this._format[d];else{if("string"!=typeof(u=this._src[d])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(l=/^data:audio\/([^;,]+);/i.exec(u))||(l=/\.([^.]+)$/.exec(u.split("?",1)[0])),l&&(l=l[1].toLowerCase())}if(l||console.warn("No file extension was found. Consider using the \"format\" property or specify an extension."),l&&A.codecs(l)){r=this._src[d];break}}if(r)return this._src=r,this._state="loading","https:"===window.location.protocol&&"http:"===r.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&i(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(i,T){var t=this,n=null;if("number"==typeof i)n=i,i=null;else{if("string"==typeof i&&"loaded"===t._state&&!t._sprite[i])return null;if(void 0===i&&(i="__default",!t._playLock)){for(var b=0,x=0;x<t._sounds.length;x++)t._sounds[x]._paused&&!t._sounds[x]._ended&&(b++,n=t._sounds[x]._id);1==b?i=null:n=null}}var S=n?t._soundById(n):t._inactiveSound();if(!S)return null;if(n&&!i&&(i=S._sprite||"__default"),"loaded"!==t._state){S._sprite=i,S._ended=!1;var s=S._id;return t._queue.push({event:"play",action:function(){t.play(s)}}),s}if(n&&!S._paused)return T||t._loadQueue("play"),S._id;t._webAudio&&A._autoResume();var u=Math.max(0,0<S._seek?S._seek:t._sprite[i][0]/1e3),l=Math.max(0,(t._sprite[i][0]+t._sprite[i][1])/1e3-u),c=1e3*l/Math.abs(S._rate),d=t._sprite[i][0]/1e3,_=(t._sprite[i][0]+t._sprite[i][1])/1e3,p=S._loop||t._sprite[i][2];S._sprite=i,S._ended=!1;var f=function(){S._paused=!1,S._seek=u,S._start=d,S._stop=_,S._loop=p};if(!(u>=_)){var h=S._node;if(t._webAudio){var m=function(){t._playLock=!1,f(),t._refreshBuffer(S);var n=S._muted||t._muted?0:S._volume;h.gain.setValueAtTime(n,A.ctx.currentTime),S._playStart=A.ctx.currentTime,void 0===h.bufferSource.start?S._loop?h.bufferSource.noteGrainOn(0,u,86400):h.bufferSource.noteGrainOn(0,u,l):S._loop?h.bufferSource.start(0,u,86400):h.bufferSource.start(0,u,l),c!==1/0&&(t._endTimers[S._id]=setTimeout(t._ended.bind(t,S),c)),T||setTimeout(function(){t._emit("play",S._id),t._loadQueue()},0)};"running"===A.state?m():(t._playLock=!0,t.once("resume",m),t._clearTimer(S._id))}else{var v=function(){h.currentTime=u,h.muted=S._muted||t._muted||A._muted||h.muted,h.volume=S._volume*A.volume(),h.playbackRate=S._rate;try{var e=h.play();if(e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(t._playLock=!0,f(),e.then(function(){t._playLock=!1,h._unlocked=!0,T||(t._emit("play",S._id),t._loadQueue())}).catch(function(){t._playLock=!1,t._emit("playerror",S._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),S._ended=!0,S._paused=!0})):T||(t._playLock=!1,f(),t._emit("play",S._id),t._loadQueue()),h.playbackRate=S._rate,h.paused)return void t._emit("playerror",S._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==i||S._loop?t._endTimers[S._id]=setTimeout(t._ended.bind(t,S),c):(t._endTimers[S._id]=function(){t._ended(S),h.removeEventListener("ended",t._endTimers[S._id],!1)},h.addEventListener("ended",t._endTimers[S._id],!1))}catch(n){t._emit("playerror",S._id,n)}},g=window&&window.ejecta||!h.readyState&&A._navigator.isCocoonJS;if(3<=h.readyState||g)v();else{t._playLock=!0;var y=function(){v(),h.removeEventListener(A._canPlayEvent,y,!1)};h.addEventListener(A._canPlayEvent,y,!1),t._clearTimer(S._id)}}return S._id}t._ended(S)},pause:function(a){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(a)}}),e;for(var t=e._getSoundIds(a),n=0;n<t.length;n++){e._clearTimer(t[n]);var i=e._soundById(t[n]);if(i&&!i._paused&&(i._seek=e.seek(t[n]),i._rateSeek=0,i._paused=!0,e._stopFade(t[n]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(a,e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"stop",action:function(){t.stop(a)}}),t;for(var n=t._getSoundIds(a),o=0;o<n.length;o++){t._clearTimer(n[o]);var d=t._soundById(n[o]);d&&(d._seek=d._start||0,d._rateSeek=0,d._paused=!0,d._ended=!0,t._stopFade(n[o]),d._node&&(t._webAudio?d._node.bufferSource&&(void 0===d._node.bufferSource.stop?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),t._cleanBuffer(d._node)):isNaN(d._node.duration)&&d._node.duration!==1/0||(d._node.currentTime=d._start||0,d._node.pause())),e||t._emit("stop",d._id))}return t},mute:function(i,e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"mute",action:function(){t.mute(i,e)}}),t;if(void 0===e){if("boolean"!=typeof i)return t._muted;t._muted=i}for(var n,d=t._getSoundIds(e),o=0;o<d.length;o++)n=t._soundById(d[o]),n&&(n._muted=i,n._interval&&t._stopFade(n._id),t._webAudio&&n._node?n._node.gain.setValueAtTime(i?0:n._volume,A.ctx.currentTime):n._node&&(n._node.muted=!!A._muted||i),t._emit("mute",n._id));return t},volume:function(){var i,d,l,u=this,o=arguments;if(0===o.length)return u._volume;if(1===o.length||2===o.length&&void 0===o[1]?0<=u._getSoundIds().indexOf(o[0])?d=parseInt(o[0],10):i=parseFloat(o[0]):2<=o.length&&(i=parseFloat(o[0]),d=parseInt(o[1],10)),!(void 0!==i&&0<=i&&1>=i))return(l=d?u._soundById(d):u._sounds[0])?l._volume:0;if("loaded"!==u._state||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,o)}}),u;void 0===d&&(u._volume=i),d=u._getSoundIds(d);for(var r=0;r<d.length;r++)(l=u._soundById(d[r]))&&(l._volume=i,o[2]||u._stopFade(d[r]),u._webAudio&&l._node&&!l._muted?l._node.gain.setValueAtTime(i,A.ctx.currentTime):l._node&&!l._muted&&(l._node.volume=i*A.volume()),u._emit("volume",l._id));return u},fade:function(i,d,_,p){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(i,d,_,p)}}),o;i=parseFloat(i),d=parseFloat(d),_=parseFloat(_),o.volume(i,p);for(var r,g=o._getSoundIds(p),a=0;a<g.length;a++)if(r=o._soundById(g[a]),r){if(p||o._stopFade(g[a]),o._webAudio&&!r._muted){var m=A.ctx.currentTime,l=m+_/1e3;r._volume=i,r._node.gain.setValueAtTime(i,m),r._node.gain.linearRampToValueAtTime(d,l)}o._startFadeInterval(r,i,d,_,g[a],void 0===p)}return o},_startFadeInterval:function(_,e,t,n,o,p){var i=this,a=e,g=t-e,r=Math.abs(g/.01),l=Math.max(4,0<r?n/r:n),u=Date.now();_._fadeTo=t,_._interval=setInterval(function(){var o=(Date.now()-u)/n;u=Date.now(),a+=g*o,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,i._webAudio?_._volume=a:i.volume(a,_._id,!0),p&&(i._volume=a),(t<e&&a<=t||t>e&&a>=t)&&(clearInterval(_._interval),_._interval=null,_._fadeTo=null,i.volume(t,_._id),i._emit("fade",_._id))},l)},_stopFade:function(n){var e=this._soundById(n);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(A.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,n),e._fadeTo=null,this._emit("fade",n)),this},loop:function(){var a,d,l,u=arguments;if(0===u.length)return this._loop;if(1===u.length){if("boolean"!=typeof u[0])return!!(l=this._soundById(parseInt(u[0],10)))&&l._loop;a=u[0],this._loop=a}else 2===u.length&&(a=u[0],d=parseInt(u[1],10));for(var o=this._getSoundIds(d),r=0;r<o.length;r++)(l=this._soundById(o[r]))&&(l._loop=a,this._webAudio&&l._node&&l._node.bufferSource&&(l._node.bufferSource.loop=a,a&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop)));return this},rate:function(){var i,d,l,_=this,o=arguments;if(0===o.length?d=_._sounds[0]._id:1===o.length?0<=_._getSoundIds().indexOf(o[0])?d=parseInt(o[0],10):i=parseFloat(o[0]):2===o.length&&(i=parseFloat(o[0]),d=parseInt(o[1],10)),"number"!=typeof i)return(l=_._soundById(d))?l._rate:_._rate;if("loaded"!==_._state||_._playLock)return _._queue.push({event:"rate",action:function(){_.rate.apply(_,o)}}),_;void 0===d&&(_._rate=i),d=_._getSoundIds(d);for(var r=0;r<d.length;r++)if(l=_._soundById(d[r])){_.playing(d[r])&&(l._rateSeek=_.seek(d[r]),l._playStart=_._webAudio?A.ctx.currentTime:l._playStart),l._rate=i,_._webAudio&&l._node&&l._node.bufferSource?l._node.bufferSource.playbackRate.setValueAtTime(i,A.ctx.currentTime):l._node&&(l._node.playbackRate=i);var c=_.seek(d[r]),s=1e3*((_._sprite[l._sprite][0]+_._sprite[l._sprite][1])/1e3-c)/Math.abs(l._rate);!_._endTimers[d[r]]&&l._paused||(_._clearTimer(d[r]),_._endTimers[d[r]]=setTimeout(_._ended.bind(_,l),s)),_._emit("rate",l._id)}return _},seek:function(){var i,d,_=this,n=arguments;if(0===n.length?d=_._sounds[0]._id:1===n.length?0<=_._getSoundIds().indexOf(n[0])?d=parseInt(n[0],10):_._sounds.length&&(d=_._sounds[0]._id,i=parseFloat(n[0])):2===n.length&&(i=parseFloat(n[0]),d=parseInt(n[1],10)),void 0===d)return _;if("loaded"!==_._state||_._playLock)return _._queue.push({event:"seek",action:function(){_.seek.apply(_,n)}}),_;var o=_._soundById(d);if(o){if(!("number"==typeof i&&0<=i)){if(_._webAudio){var r=_.playing(d)?A.ctx.currentTime-o._playStart:0,a=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(a+r*Math.abs(o._rate))}return o._node.currentTime}var s=_.playing(d);s&&_.pause(d,!0),o._seek=i,o._ended=!1,_._clearTimer(d),_._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=i);var u=function(){_._emit("seek",d),s&&_.play(d,!0)};if(s&&!_._webAudio){var l=function(){_._playLock?setTimeout(l,0):u()};setTimeout(l,0)}else u()}return _},playing:function(o){if("number"==typeof o){var e=this._soundById(o);return!!e&&!e._paused}for(var t=0;t<this._sounds.length;t++)if(!this._sounds[t]._paused)return!0;return!1},duration:function(o){var e=this._duration,r=this._soundById(o);return r&&(e=this._sprite[r._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var a=this,i=a._sounds,t=0;t<i.length;t++)(i[t]._paused||a.stop(i[t]._id),!a._webAudio)&&(/MSIE |Trident\//.test(A._navigator&&A._navigator.userAgent)||(i[t]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),i[t]._node.removeEventListener("error",i[t]._errorFn,!1),i[t]._node.removeEventListener(A._canPlayEvent,i[t]._loadFn,!1),A._releaseHtml5Audio(i[t]._node)),delete i[t]._node,a._clearTimer(i[t]._id);var d=A._howls.indexOf(a);0<=d&&A._howls.splice(d,1);var o=!0;for(t=0;t<A._howls.length;t++)if(A._howls[t]._src===a._src||0<=a._src.indexOf(A._howls[t]._src)){o=!1;break}return s&&o&&delete s[a._src],A.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,e,t,n){var o=this["_on"+a];return"function"==typeof e&&o.push(n?{id:t,fn:e,once:n}:{id:t,fn:e}),this},off:function(d,e,l){var u=this["_on"+d],o=0;if("number"==typeof e&&(l=e,e=null),e||l)for(o=0;o<u.length;o++){var s=l===u[o].id;if(e===u[o].fn&&s||!e&&s){u.splice(o,1);break}}else if(d)this["_on"+d]=[];else{var i=Object.keys(this);for(o=0;o<i.length;o++)0===i[o].indexOf("_on")&&Array.isArray(this[i[o]])&&(this[i[o]]=[])}return this},once:function(o,e,t){return this.on(o,e,t,1),this},_emit:function(a,i,t){for(var e=this["_on"+a],n=e.length-1;0<=n;n--)e[n].id&&e[n].id!==i&&"load"!==a||(setTimeout(function(n){n.call(this,i,t)}.bind(this,e[n].fn),0),e[n].once&&this.off(a,e[n].fn,e[n].id));return this._loadQueue(a),this},_loadQueue:function(n){if(0<this._queue.length){var e=this._queue[0];e.event===n&&(this._queue.shift(),this._loadQueue()),n||e.action()}return this},_ended:function(r){var e=r._sprite;if(!this._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(this._ended.bind(this,r),100),this;var t=r._loop||this._sprite[e][2];if(this._emit("end",r._id),!this._webAudio&&t&&this.stop(r._id,!0).play(r._id),this._webAudio&&t){this._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=A.ctx.currentTime;var n=1e3*(r._stop-r._start)/Math.abs(r._rate);this._endTimers[r._id]=setTimeout(this._ended.bind(this,r),n)}return this._webAudio&&!t&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,this._clearTimer(r._id),this._cleanBuffer(r._node),A._autoSuspend()),this._webAudio||t||this.stop(r._id,!0),this},_clearTimer:function(n){if(this._endTimers[n]){if("function"!=typeof this._endTimers[n])clearTimeout(this._endTimers[n]);else{var e=this._soundById(n);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[n],!1)}delete this._endTimers[n]}return this},_soundById:function(n){for(var e=0;e<this._sounds.length;e++)if(n===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new a(this)},_drain:function(){var o=this._pool,e=0,r=0;if(!(this._sounds.length<o)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&e++;for(r=this._sounds.length-1;0<=r;r--){if(e<=o)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),e--)}}},_getSoundIds:function(o){if(void 0===o){for(var e=[],t=0;t<this._sounds.length;t++)e.push(this._sounds[t]._id);return e}return[o]},_refreshBuffer:function(t){return t._node.bufferSource=A.ctx.createBufferSource(),t._node.bufferSource.buffer=s[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,A.ctx.currentTime),this},_cleanBuffer:function(n){var e=A._navigator&&0<=A._navigator.vendor.indexOf("Apple");if(A._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),e))try{n.bufferSource.buffer=A._scratchBuffer}catch(t){}return n.bufferSource=null,this}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++A._counter,t._sounds.push(this),this.create(),this},create:function(){var n=this._parent,e=A._muted||this._muted||this._parent._muted?0:this._volume;return n._webAudio?(this._node=void 0===A.ctx.createGain?A.ctx.createGainNode():A.ctx.createGain(),this._node.gain.setValueAtTime(e,A.ctx.currentTime),this._node.paused=!0,this._node.connect(A.masterGain)):(this._node=A._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(A._canPlayEvent,this._loadFn,!1),this._node.src=n._src,this._node.preload="auto",this._node.volume=e*A.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++A._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(A._canPlayEvent,this._loadFn,!1)}};var s={},i=function(a){var e=a._src;if(s[e])return a._duration=s[e].duration,void d(a);if(/^data:[^;]+;base64,/.test(e)){for(var t=atob(e.split(",")[1]),n=new Uint8Array(t.length),o=0;o<t.length;++o)n[o]=t.charCodeAt(o);u(n.buffer,a)}else{var _=new XMLHttpRequest;_.open("GET",e,!0),_.withCredentials=a._xhrWithCredentials,_.responseType="arraybuffer",_.onload=function(){var e=(_.status+"")[0];"0"===e||"2"===e||"3"===e?u(_.response,a):a._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".")},_.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete s[e],a.load())},l(_)}},l=function(n){try{n.send()}catch(e){n.onerror()}},u=function(r,a){var t=function(){a._emit("loaderror",null,"Decoding audio data failed.")},e=function(n){n&&0<a._sounds.length?(s[a._src]=n,d(a,n)):t()};"undefined"!=typeof Promise&&1===A.ctx.decodeAudioData.length?A.ctx.decodeAudioData(r).then(e).catch(t):A.ctx.decodeAudioData(r,e,t)},d=function(n,e){e&&!n._duration&&(n._duration=e.duration),0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue())},_=function(){if(A.usingWebAudio){try{"undefined"==typeof AudioContext?"undefined"==typeof webkitAudioContext?A.usingWebAudio=!1:A.ctx=new webkitAudioContext:A.ctx=new AudioContext}catch(t){A.usingWebAudio=!1}A.ctx||(A.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(A._navigator&&A._navigator.platform),e=A._navigator&&A._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=e?parseInt(e[1],10):null;if(r&&t&&9>t){var n=/safari/.test(A._navigator&&A._navigator.userAgent.toLowerCase());(A._navigator&&A._navigator.standalone&&!n||A._navigator&&!A._navigator.standalone&&!n)&&(A.usingWebAudio=!1)}A.usingWebAudio&&(A.masterGain=void 0===A.ctx.createGain?A.ctx.createGainNode():A.ctx.createGain(),A.masterGain.gain.setValueAtTime(A._muted?0:1,A.ctx.currentTime),A.masterGain.connect(A.ctx.destination)),A._setup()}};void 0===(n=function(){return{Howler:A,Howl:r}}.apply(e,[]))||(g.exports=n),e.Howler=A,e.Howl=r,"undefined"==typeof window?void 0!==t&&(t.HowlerGlobal=o,t.Howler=A,t.Howl=r,t.Sound=a):(window.HowlerGlobal=o,window.Howler=A,window.Howl=r,window.Sound=a)}(),function(){"use strict";var n;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;0<=e;e--)this._howls[e].stereo(n);return this},HowlerGlobal.prototype.pos=function(o,e,r){return this.ctx&&this.ctx.listener?(e="number"==typeof e?e:this._pos[1],r="number"==typeof r?r:this._pos[2],"number"==typeof o?(this._pos=[o,e,r],void 0===this.ctx.listener.positionX?this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]):(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)),this):this._pos):this},HowlerGlobal.prototype.orientation=function(d,e,l,u,s,_){if(!this.ctx||!this.ctx.listener)return this;var c=this._orientation;return e="number"==typeof e?e:c[1],l="number"==typeof l?l:c[2],u="number"==typeof u?u:c[3],s="number"==typeof s?s:c[4],_="number"==typeof _?_:c[5],"number"==typeof d?(this._orientation=[d,e,l,u,s,_],void 0===this.ctx.listener.forwardX?this.ctx.listener.setOrientation(d,e,l,u,s,_):(this.ctx.listener.forwardX.setTargetAtTime(d,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(d,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)),this):c},Howl.prototype.init=(n=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0===e.coneInnerAngle?360:e.coneInnerAngle,coneOuterAngle:void 0===e.coneOuterAngle?360:e.coneOuterAngle,coneOuterGain:void 0===e.coneOuterGain?0:e.coneOuterGain,distanceModel:void 0===e.distanceModel?"inverse":e.distanceModel,maxDistance:void 0===e.maxDistance?1e4:e.maxDistance,panningModel:void 0===e.panningModel?"HRTF":e.panningModel,refDistance:void 0===e.refDistance?1:e.refDistance,rolloffFactor:void 0===e.rolloffFactor?1:e.rolloffFactor},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],n.call(this,e)}),Howl.prototype.stereo=function(t,e){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,e)}}),n;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===e){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var r,d=n._getSoundIds(e),i=0;i<d.length;i++)if(r=n._soundById(d[i]),r){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0],r._node&&(r._pannerAttr.panningModel="equalpower",r._panner&&r._panner.pan||a(r,o),"spatial"===o?void 0===r._panner.positionX?r._panner.setPosition(t,0,0):(r._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):r._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",r._id)}return n},Howl.prototype.pos=function(t,e,d,l){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(t,e,d,l)}}),r;if(e="number"==typeof e?e:0,d="number"==typeof d?d:-.5,void 0===l){if("number"!=typeof t)return r._pos;r._pos=[t,e,d]}for(var i,_=r._getSoundIds(l),c=0;c<_.length;c++)if(i=r._soundById(_[c]),i){if("number"!=typeof t)return i._pos;i._pos=[t,e,d],i._node&&(i._panner&&!i._panner.pan||a(i,"spatial"),void 0===i._panner.positionX?i._panner.setPosition(t,e,d):(i._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(d,Howler.ctx.currentTime))),r._emit("pos",i._id)}return r},Howl.prototype.orientation=function(t,e,d,l){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(t,e,d,l)}}),r;if(e="number"==typeof e?e:r._orientation[1],d="number"==typeof d?d:r._orientation[2],void 0===l){if("number"!=typeof t)return r._orientation;r._orientation=[t,e,d]}for(var i,_=r._getSoundIds(l),c=0;c<_.length;c++)if(i=r._soundById(_[c]),i){if("number"!=typeof t)return i._orientation;i._orientation=[t,e,d],i._node&&(i._panner||(i._pos||(i._pos=r._pos||[0,0,-.5]),a(i,"spatial")),void 0===i._panner.orientationX?i._panner.setOrientation(t,e,d):(i._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(d,Howler.ctx.currentTime))),r._emit("orientation",i._id)}return r},Howl.prototype.pannerAttr=function(){var t,d,l,_=arguments;if(!this._webAudio)return this;if(0===_.length)return this._pannerAttr;if(1===_.length){if("object"!=typeof _[0])return(l=this._soundById(parseInt(_[0],10)))?l._pannerAttr:this._pannerAttr;t=_[0],void 0===d&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),this._pannerAttr={coneInnerAngle:void 0===t.pannerAttr.coneInnerAngle?this._coneInnerAngle:t.pannerAttr.coneInnerAngle,coneOuterAngle:void 0===t.pannerAttr.coneOuterAngle?this._coneOuterAngle:t.pannerAttr.coneOuterAngle,coneOuterGain:void 0===t.pannerAttr.coneOuterGain?this._coneOuterGain:t.pannerAttr.coneOuterGain,distanceModel:void 0===t.pannerAttr.distanceModel?this._distanceModel:t.pannerAttr.distanceModel,maxDistance:void 0===t.pannerAttr.maxDistance?this._maxDistance:t.pannerAttr.maxDistance,refDistance:void 0===t.pannerAttr.refDistance?this._refDistance:t.pannerAttr.refDistance,rolloffFactor:void 0===t.pannerAttr.rolloffFactor?this._rolloffFactor:t.pannerAttr.rolloffFactor,panningModel:void 0===t.pannerAttr.panningModel?this._panningModel:t.pannerAttr.panningModel})}else 2===_.length&&(t=_[0],d=parseInt(_[1],10));for(var r=this._getSoundIds(d),i=0;i<r.length;i++)if(l=this._soundById(r[i])){var c=l._pannerAttr;c={coneInnerAngle:void 0===t.coneInnerAngle?c.coneInnerAngle:t.coneInnerAngle,coneOuterAngle:void 0===t.coneOuterAngle?c.coneOuterAngle:t.coneOuterAngle,coneOuterGain:void 0===t.coneOuterGain?c.coneOuterGain:t.coneOuterGain,distanceModel:void 0===t.distanceModel?c.distanceModel:t.distanceModel,maxDistance:void 0===t.maxDistance?c.maxDistance:t.maxDistance,refDistance:void 0===t.refDistance?c.refDistance:t.refDistance,rolloffFactor:void 0===t.rolloffFactor?c.rolloffFactor:t.rolloffFactor,panningModel:void 0===t.panningModel?c.panningModel:t.panningModel};var p=l._panner;p?(p.coneInnerAngle=c.coneInnerAngle,p.coneOuterAngle=c.coneOuterAngle,p.coneOuterGain=c.coneOuterGain,p.distanceModel=c.distanceModel,p.maxDistance=c.maxDistance,p.refDistance=c.refDistance,p.rolloffFactor=c.rolloffFactor,p.panningModel=c.panningModel):(l._pos||(l._pos=this._pos||[0,0,-.5]),a(l,"spatial"))}return this},Sound.prototype.init=function(n){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,n.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),n.call(this)}}(Sound.prototype.reset);var a=function(n,e){"spatial"===(e=e||"spatial")?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,void 0===n._panner.positionX?n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]):(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)),void 0===n._panner.orientationX?n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2]):(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime))):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}}()}).call(this,t(2))},function(t){var n=function(O){"use strict";function e(u,e,t,n){var o=e&&e.prototype instanceof l?e:l,r=Object.create(o.prototype),p=new S(n||[]);return r._invoke=function(r,e,t){var n=i;return function(o,l){if(n===d)throw new Error("Generator is already running");if(n===_){if("throw"===o)throw l;return P()}for(t.method=o,t.arg=l;;){var p=t.delegate;if(p){var a=A(p,t);if(a){if(a===c)continue;return a}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(n===i)throw n=_,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n=d;var g=E(r,e,t);if("normal"===g.type){if(n=t.done?_:s,g.arg===c)continue;return{value:g.arg,done:t.done}}"throw"===g.type&&(n=_,t.method="throw",t.arg=g.arg)}}}(u,t,p),r}function E(o,e,t){try{return{type:"normal",arg:o.call(e,t)}}catch(t){return{type:"throw",arg:t}}}function l(){}function u(){}function m(){}function h(n){["next","throw","return"].forEach(function(o){n[o]=function(t){return this._invoke(o,t)}})}function v(o){var e;this._invoke=function(a,n){function t(){return new Promise(function(e,t){!function d(e,t,n,r){var a=E(o[e],o,t);if("throw"!==a.type){var i=a.arg,l=i.value;return l&&"object"==typeof l&&I.call(l,"__await")?Promise.resolve(l.__await).then(function(t){d("next",t,n,r)},function(t){d("throw",t,n,r)}):Promise.resolve(l).then(function(t){i.value=t,n(i)},function(t){return d("throw",t,n,r)})}r(a.arg)}(a,n,e,t)})}return e=e?e.then(t,t):t()}}function A(t,e){var n=t.iterator[e.method];if(n===L){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=L,A(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var o=E(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,c;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=L),e.delegate=null,c):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function T(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function x(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(I.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=L,e.done=!0,e};return n.next=n}}return{next:P}}function P(){return{value:L,done:!0}}var L,t=Object.prototype,I=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";O.wrap=e;var i="suspendedStart",s="suspendedYield",d="executing",_="completed",c={},p={};p[o]=function(){return this};var f=Object.getPrototypeOf,y=f&&f(f(k([])));y&&y!==t&&I.call(y,o)&&(p=y);var w=m.prototype=l.prototype=Object.create(p);return u.prototype=w.constructor=m,m.constructor=u,m[a]=u.displayName="GeneratorFunction",O.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},O.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(w),t},O.awrap=function(t){return{__await:t}},h(v.prototype),v.prototype[r]=function(){return this},O.AsyncIterator=v,O.async=function(a,t,n,o){var r=new v(e(a,t,n,o));return O.isGeneratorFunction(t)?r:r.next().then(function(t){return t.done?t.value:r.next()})},h(w),w[a]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},O.keys=function(r){var e=[];for(var t in r)e.push(t);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},O.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&I.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=L)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,n){return a.type="throw",a.arg=t,d.next=e,n&&(d.method="next",d.arg=L),!!n}if(this.done)throw t;for(var d=this,n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var r=I.call(o,"catchLoc"),u=I.call(o,"finallyLoc");if(r&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(!r){if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}}},abrupt:function(o,e){for(var t,d=this.tryEntries.length-1;0<=d;--d)if(t=this.tryEntries[d],t.tryLoc<=this.prev&&I.call(t,"finallyLoc")&&this.prev<t.finallyLoc){var l=t;break}l&&("break"===o||"continue"===o)&&l.tryLoc<=e&&e<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=o,u.arg=e,l?(this.method="next",this.next=l.finallyLoc,c):this.complete(u)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),c},finish:function(o){for(var e,r=this.tryEntries.length-1;0<=r;--r)if(e=this.tryEntries[r],e.finallyLoc===o)return this.complete(e.completion,e.afterLoc),x(e),c},catch:function(a){for(var e,i=this.tryEntries.length-1;0<=i;--i)if(e=this.tryEntries[i],e.tryLoc===a){var d=e.completion;if("throw"===d.type){var o=d.arg;x(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=L),c}},O}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t){var o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(d,e,t){"use strict";function n(){var r=document.querySelectorAll("[udesly-audio-player]");r.forEach(function(t){t.querySelectorAll("[show-if='playing']").forEach(function(t){t.setAttribute("v-if","isPlaying")}),t.querySelectorAll("[hide-if='playing']").forEach(function(t){t.setAttribute("v-if","!isPlaying")}),t.querySelectorAll("[show-if='loop-playlist']").forEach(function(t){t.setAttribute("v-if","playlistLoop")}),t.querySelectorAll("[hide-if='loop-playlist']").forEach(function(t){t.setAttribute("v-if","!playlistLoop")}),t.querySelectorAll("[show-if='mute']").forEach(function(t){t.setAttribute("v-if","mute")}),t.querySelectorAll("[hide-if='mute']").forEach(function(t){t.setAttribute("v-if","!mute")}),t.querySelectorAll("[show-if='loop']").forEach(function(t){t.setAttribute("v-if","loop")}),t.querySelectorAll("[hide-if='loop']").forEach(function(t){t.setAttribute("v-if","!loop")}),t.querySelectorAll("[player]").forEach(function(t){switch(t.getAttribute("player")){case"album-cover":t.setAttribute("v-bind:src","image"),t.removeAttribute("srcset");break;case"next-song":t.setAttribute("v-on:click","next");break;case"previous-song":t.setAttribute("v-on:click","prev");break;case"volume-bar":t.setAttribute("v-on:click","OnClickVolume");break;case"current-volume":t.setAttribute("v-bind:style","{width: percentage(volume)}");break;case"volume-pointer":t.setAttribute("v-on:drag","OnDragVolume"),t.setAttribute("v-bind:style","{left: percentage(volume)}");break;case"seek-bar":t.setAttribute("v-on:click","OnClickSeek");break;case"seek-active":t.setAttribute("v-bind:style","{width: percentage(seekPercentage)}");break;case"seek-pointer":t.setAttribute("v-on:drag","OnDragSeek"),t.setAttribute("v-bind:style","{left: percentage(seekPercentage)}");break;case"volume-mute":t.setAttribute("v-on:click","volumeMute");break;case"play-pause":t.setAttribute("v-on:click","paused");break;case"stop-song":t.setAttribute("v-on:click","stop");break;case"rewind":t.setAttribute("v-on:click","rewind");break;case"auto-next-song":t.setAttribute("v-on:click","autoNextChange");break;case"stop":t.setAttribute("v-on:click","stop");break;case"start":t.setAttribute("v-on:click","start");break;case"duration":t.setAttribute("v-text","formatSeconds(duration)");break;case"seek-value":t.setAttribute("v-text","formatSeconds(seekValue)");break;case"volume-down":t.setAttribute("v-on:click","volumeDown");break;case"volume-up":t.setAttribute("v-on:click","volumeUp");break;case"loop":t.setAttribute("v-on:click","onLoop");break;case"loop-playlist":t.setAttribute("v-on:click","onLoopPlaylist");break;case"song-title":t.setAttribute("v-text","title");break;case"album":t.setAttribute("v-text","album");break;case"artist":t.setAttribute("v-text","artist");}})});var a,d,i=new Vue;r.forEach(function(t){if(t.getAttribute("udesly-audio-player")){var e=t.getAttribute("udesly-audio-player"),n=t.getAttribute("auto-play"),o=!1,r=!1;n&&"single"==n&&(o=!0),n&&"playlist"==n&&(r=!0),new Vue({el:t,data:{src:e.split(",").map(function(t){return t.trim()}),currentSongIndex:0,howl:void 0,started:!1,isPlaying:!1,image:"",title:"",album:"",artist:"",volume:1,mute:!1,pause:!0,autoNext:!0,seekStatus:void 0,seekValue:0,seekPercentage:0,loop:o,duration:0,playlistLoop:r},mounted:function(){var t=this;this.$el.removeAttribute("udesly-audio-player"),this.howl=new u.Howl({preload:!1,src:this.src[this.currentSongIndex],onend:function(){return t.onEnd()},onstop:function(){return t.onStopToggle()},onplay:function(){return t.onPlayToggle()},onpause:function(){return t.onPauseToggle()},onplayerror:function(){return t.stop()},onloaderror:function(){return t.stop()}}),i.$on("playing",function(){t.isPlaying&&t.stop()}),this.readMetadata(this.src[this.currentSongIndex]),requestAnimationFrame(function(){return t.changeSeekPercentage(0)})},methods:{changeSeekPercentage:function(t){var n=this;null==t?(this.seekValue=parseInt(this.howl.seek()),this.seekPercentage=this.seekValue/this.howl.duration(),requestAnimationFrame(function(){return n.changeSeekPercentage()})):this.seekValue=t},readMetadata:function(n){var r=this,e=n,t=localStorage.getItem(e);if(t){var o=JSON.parse(t);for(let e in o)r[e]=o[e]}else id3(n,function(t,a){if(t&&console.error(t),a&&(a.title&&(r.title=a.title),a.album&&(r.album=a.album),a.artist&&(r.artist=a.artist),a.v2.image)){var n=a.v2.image.data;r.image="data:"+a.v2.image.mime+";base64,"+function(a){for(var e="",i=new Uint8Array(a),n=i.byteLength,o=0;o<n;o++)e+=String.fromCharCode(i[o]);return window.btoa(e)}(n),localStorage.setItem(e,JSON.stringify({title:a.title,album:a.album,artist:a.artist,image:r.image}))}})},stop:function(){this.howl.stop(),this.isPlaying=!1},next:function(){var t=this;this.stop(),this.playlistLoop?(this.currentSongIndex=(this.currentSongIndex+1)%this.src.length,this.howl=new u.Howl({src:this.src[this.currentSongIndex],onstop:function(){return t.onStopToggle()},onend:function(){return t.onEnd()},onplay:function(){return t.onPlayToggle()},onpause:function(){return t.onPauseToggle()},onplayerror:function(){return t.stop()},onloaderror:function(){return t.stop()}}),this.howl.play()):this.currentSongIndex<this.src.length-1&&(++this.currentSongIndex,this.howl=new u.Howl({src:this.src[this.currentSongIndex],onstop:function(){return t.onStopToggle()},onend:function(){return t.onEnd()},onplay:function(){return t.onPlayToggle()},onpause:function(){return t.onPauseToggle()},onplayerror:function(){return t.stop()},onloaderror:function(){return t.stop()}}),this.howl.play()),this.readMetadata(this.src[this.currentSongIndex])},prev:function(){var t=this;this.stop(),this.currentSongIndex=0==this.currentSongIndex?this.src.length-1:this.currentSongIndex-1,this.howl=new u.Howl({src:this.src[this.currentSongIndex],onstop:function(){return t.onStopToggle()},onplay:function(){return t.onPlayToggle()},onpause:function(){return t.onPauseToggle()},onend:function(){return t.onEnd()},onplayerror:function(){return t.stop()},onloaderror:function(){return t.stop()}}),this.howl.play(),this.readMetadata(this.src[this.currentSongIndex])},volumeChange:function(){this.howl.volume(this.volume),this.mute=!1},volumeMute:function(){this.mute=!this.mute,this.mute?this.howl.volume(0):this.howl.volume(this.volume)},paused:function(){0==this.howl._duration&&this.howl.load(),this.pause?this.howl.play():this.howl.pause()},percentage:function(t){return 100*t+"%"},rewind:function(){this.stop(),this.isPlaying?this.isPlaying:this.isPlaying=!0,this.howl.play()},onEnd:function(){this.seekPercentage=1,this.seekValue=this.howl.duration(),this.loop?this.rewind():this.autoNext?this.next():this.stop()},volumeController:function(t){dragElement(t)},autoNextChange:function(){this.autoNext=!this.autoNext},OnDragVolume:function(t){var d=(t=t||window.event).target;t.preventDefault();var n=t.clientX,l=d.closest("[player=\"volume-bar\"]").getBoundingClientRect().width,r=(n-=d.getBoundingClientRect().left)*(100/l);r=100<=r?1:r/100,a?.1>Math.abs(r-a)&&(this.volume=r,a=r):(this.volume=r,a=r),this.mute=0==this.volume},OnClickVolume:function(a){var i=(a=a||window.event).target;a.preventDefault();var t=a.clientX,d=i.closest("[player=\"volume-bar\"]").getBoundingClientRect().width,o=(t-=i.getBoundingClientRect().left)*(100/d);o=100<=o?1:o/100,this.volume=o,this.howl.volume(this.volume),this.mute=0==this.volume},OnDragSeek:function(n){var a=(n=n||window.event).target;n.preventDefault();var t=n.clientX,l=a.closest("[player=\"seek-bar\"]").getBoundingClientRect().width,r=(t-=a.getBoundingClientRect().left)*(100/l);r=100<=r?100:r,r=this.howl.duration()/100*r,d?10>Math.abs(r-d)&&(this.seekChange(r),d=r):(this.seekChange(r),d=r)},OnClickSeek:function(a){var i=(a=a||window.event).target;a.preventDefault();var t=a.clientX,d=i.closest("[player=\"seek-bar\"]").getBoundingClientRect().width,o=(t-=i.getBoundingClientRect().left)*(100/d);o=100<=o?100:o,o=this.howl.duration()/100*o,this.seekChange(o)},seekChange:function(t){this.howl.seek(t)},formatSeconds:function(o){var e=Math.round(o%60),t=Math.floor(o/60);return"".concat(t,":").concat((e+"").padStart(2,"0"))},volumeDown:function(){0<this.volume&&(.1<=this.volume?this.volume-=.1:this.volume=0),this.howl.volume(this.volume),this.mute=!1},volumeUp:function(){0<=this.volume&&(.9>=this.volume?this.volume+=.1:this.volume=1),this.howl.volume(this.volume),this.mute=!1},onLoop:function(){this.loop=!this.loop},onLoopPlaylist:function(){0==this.playlistLoop&&0==this.loop?(this.playlistLoop=!0,this.loop=!1):1==this.playlistLoop&&0==this.loop?(this.loop=!0,this.playlistLoop=!0):(this.loop=!1,this.playlistLoop=!1)},onPlayToggle:function(){i.$emit("playing"),this.pause=!1,this.isPlaying=!0,this.duration=this.howl.duration(),this.changeSeekPercentage()},onPauseToggle:function(){this.pause=!0,this.isPlaying=!1},onStopToggle:function(){this.onPauseToggle()}}})}})}function l(d,e,t,n,o,r,i){try{var a=d[r](i),l=a.value}catch(n){return void t(n)}a.done?e(l):Promise.resolve(l).then(n,o)}function a(){var d;return d=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:n();case 6:case"end":return t.stop();}},t)}),(a=function(){var e=this,t=arguments;return new Promise(function(n,o){function r(t){l(u,n,o,r,a,"next",t)}function a(t){l(u,n,o,r,a,"throw",t)}var u=d.apply(e,t);r(void 0)})}).apply(this,arguments)}t.r(e),t(1);var i=function(){var o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return new Promise(function(e,t){if(window.Vue&&e(!0),document.getElementById("vue-js"))var n=setInterval(function(){window.Vue&&(clearInterval(n),e(!0))},100);else{var a=document.createElement("script");a.src=o?"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js":"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js",a.id="vue-js",document.body.appendChild(a),a.onload=function(){e(!0)},a.onerror=function(n){t(n)}}})},u=t(0);!function(){a.apply(this,arguments)}()}]);
